分布式事务

https://developer.aliyun.com/article/1460045

a 可用 c 一致 p 分区容错

ap 导致无法在规定时间达成一致性
cp 导致无法及时响应用户的请求

因此无法同时满足三个


缓存解决方案

一、核心分布式理论

一致性模型

强一致性（Strong Consistency）

最终一致性（Eventual Consistency）

弱一致性/因果一致性（Causal Consistency）

分布式共识算法

Paxos / Raft（节点选举、日志复制、Leader/Follower、状态机）

Zab 协议（ZooKeeper 实现）

对比：2PC / 3PC 与 Raft/Paxos 的差异

分布式事务

2PC/3PC/XA/Seata AT/TCC

Saga 模式

异步补偿、事务可靠消息

分布式系统基本问题

网络分区、脑裂、节点宕机

时钟同步问题（逻辑时钟、Lamport Clock、Vector Clock）

分布式锁与选主（Redis、Zookeeper、etcd 实现）

二、分布式系统设计与架构

数据分布

分片（Sharding）与副本（Replication）

一致性哈希（Consistent Hashing）

主从复制、Leader-Follower 模型

高可用与容错

冗余设计、故障检测、健康检查

自动 failover、Leader 选举

quorum 策略

性能优化

异步复制、批量操作

缓存策略、读写分离

流量削峰（Rate limiting）、队列缓冲

系统扩展性

水平扩展（Horizontal Scaling）

CAP 与 PACELC 在设计中的权衡

微服务架构与分布式中间件

三、分布式存储与消息系统

分布式 KV/数据库

HBase、Cassandra、TiDB、MongoDB

分布式事务、数据局部一致性

消息队列

Kafka、RabbitMQ、RocketMQ

消息幂等、顺序保证、事务消息

分布式缓存

Redis Cluster、Memcached

高可用策略（主从、哨兵、CRDT、一致性哈希）

四、分布式监控与运维

监控指标

延迟、QPS、可用性、节点健康状态

日志与追踪

分布式日志、链路追踪（Zipkin、SkyWalking）

故障演练

Chaos Engineering（模拟节点宕机、网络分区）

五、实战能力

能设计 分布式锁、Leader 选举

能处理 网络分区、节点宕机、延迟

能选择合适的 事务模式（AT/TCC/Saga）

能进行 系统性能和一致性权衡











===============




现在业界普遍说的“最新”栈，主要有以下几个趋势（结合 Java 方向）：

🔹 服务通信层

Dubbo → Spring Cloud / Spring Cloud Alibaba / gRPC / Service Mesh (Istio, Linkerd)

Spring Cloud 已经成为微服务标准；

Service Mesh 进一步解耦服务治理，云原生化。

🔹 数据存储层

Oracle → 多元化存储 (Polyglot Persistence)

关系型：MySQL 8.x / PostgreSQL 15+（云厂商提供的托管版 Aurora、PolarDB、TiDB）

分布式 NewSQL：CockroachDB、TiDB、Yugabyte

NoSQL：Redis、MongoDB、ElasticSearch

时序/图：InfluxDB、Neo4j

🔹 数据访问层

MyBatis → JPA / Spring Data / MyBatis-Plus / R2DBC

ORM 越来越“轻”，很多场景直接用 Spring Data JPA 或 R2DBC（响应式数据库访问）。

MyBatis 还是保留，但会结合 MyBatis-Plus 提高开发效率。

🔹 架构模式

单体 SOA → 微服务 → 云原生（K8s + DevOps） → Serverless

Kubernetes + Docker 成为部署标准；

DevOps / GitOps（ArgoCD, FluxCD）接管 CI/CD；

无服务器（Serverless Framework, Knative）适合事件驱动型服务。

🔹 中间件 & 消息队列

老：ActiveMQ / Kafka 旧版本

新：Kafka 新版本 + Pulsar + RocketMQ 5.x

事件驱动架构（EDA）普及，Kafka 已经是事实标准。

🔹 运行时与性能

Java 8 → Java 17 (LTS) / Java 21 (LTS)

JVM 调优 → GraalVM / Native Image / Project Loom（虚拟线程）

🔹 前后端交互

传统 JSP/Thymeleaf → 前后端分离 (React, Vue, Angular + REST/gRPC/GraphQL)

GraphQL（Apollo）在复杂 API 网关场景里逐渐流行。

🔹 配套生态

配置中心：Nacos / Apollo

注册中心：Eureka → Nacos / Consul

监控：Prometheus + Grafana / ELK / OpenTelemetry

所以总结一句：
现在的“最新”就是：Spring Cloud Alibaba + Kubernetes + DevOps + 多模数据库（MySQL/TiDB/ES/Redis）+ Kafka + Java 17+ + 云原生化（Service Mesh/Serverless）。
